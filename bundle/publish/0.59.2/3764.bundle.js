(globalThis.webpackChunkpage_render_service=globalThis.webpackChunkpage_render_service||[]).push([[3764],{1675:(t,e,n)=>{"use strict";n.d(e,{FJ:()=>i,JI:()=>r,Z7:()=>o,nQ:()=>a});var o={modalContainerId:"gallery-bp_container",lightBoxImgId:"gallery-light-box__img",nextBottomId:"gallery-light-box__arrow_right",prevBottomId:"gallery-light-box__arrow_left",navBotContPrevId:"gallery-light-box__arrow_left_container",navBotContNextId:"gallery-light-box__arrow_right_container",svgBottomPrevId:"gallery-light-box__arrow_left_svg",svgBottomNextId:"gallery-light-box__arrow_right_svg"},r="gallery-cloned",i=t=>'.js-widget[data-widget="gallery"][data-widget-id="'.concat(t,'"]:not(.').concat(r,")"),a=(t,e)=>".js-widget.".concat(r,"-").concat(e,'[data-widget="gallery"][data-widget-id="').concat(t,'"]')},3764:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>w});var o=n(4705),r=n(6716),i=n.n(r),a=n(4612),s=n(3002);s.xr,s.vn,s.V0,s.Vp,s.OB,s.OB,s.TR;const l={grid:"grid",masonry:"masonry"};var c=n(4478),d=n(7032),h=n(4067),u=n(8229),g=n(2367),v=n(463),m=n(6391),p=n(9341),y=n(1675);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,o.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class E extends g.A{constructor(){var t;super(...arguments),t=this,(0,o.A)(this,"init",(()=>{if(this.elGalleryWidgetList=u.A.getCollection(this.selector),!(0,a.A)(this.elGalleryWidgetList)){this.lightBox=new p.A(y.Z7);var t=(0,c.ZI)();this.initGalleries(t),(0,h.p3)(this,this.initGalleries)}})),(0,o.A)(this,"initGalleries",(e=>{(0,a.A)(this.elGalleryWidgetList)||this.elGalleryWidgetList.forEach((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,{widgetId:r=null,settings:i}=n.dataset,a=(0,d.A)("settings.grid"),c=(0,s.df)(e);if(r&&i){var h=!!n.closest(".slick-cloned"),u=h?"".concat(r,"-").concat(y.JI,"-").concat(o):r,g=JSON.parse(i),{layoutType:v,hasLightbox:m,amountInRow:p,itemSize:f}=g,A=a?t.getGridItemSize(n,e):f,E=a&&c?A:(0,s.XF)(A,e),w=Math.ceil(E/s.VF*p*(0,s.m8)(e,s.Xr));n.firstChild.style&&(n.firstChild.style["grid-template-columns"]="repeat(".concat(w,",1fr)")),h&&n.classList.add(y.JI,"".concat(y.JI,"-").concat(o)),m&&(t.lightBox.galleryModalData[u]=g,t.connectGalleryToLightBox(u)),v===l.masonry&&t.initMasonry(n,g,w),v===l.grid&&t.initGrid(n,g)}}))})),(0,o.A)(this,"getGridItemSize",((t,e)=>{var n=t.parentElement,o=(0,s.df)(e),r=o?s.Cx.maxColumnsMobile:s.Cx.maxColumns,i=o?"coordinatesMobile":"coordinates",a=n.dataset[i]&&"null"!==n.dataset[i]?JSON.parse(n.dataset[i]):null;return Math.ceil(12*((null==a?void 0:a.width)||r)/r)})),(0,o.A)(this,"connectGalleryToLightBox",(t=>{var{navButtonsAttributes:e,modalsParams:n}=this.lightBox.getLightBoxAttributes(),o=t?{[t]:this.lightBox.galleryModalData[t]}:this.lightBox.galleryModalData;this.lightBox.addLightBoxToGalleryPhotos(o,e,n)})),(0,o.A)(this,"initMasonry",((t,e,n)=>{var{amountInRowMobile:o,padding:r}=e||{},i=t.children[0],a=this.createMasonryLayout(i,n,o,r),s=(t,e)=>{var n=u.A.getElement("img",t);n&&(0,v.Z)(n),a.recalculate(!0,!0),u.A.showOpacity(e.firstChild)},l=function(t){var e=u.A.getElement("picture",t);if(!e)return 1;var{loaded:n}=e.dataset||{};n?s(e,t):e.addEventListener(m.g,(()=>{s(e,t)}));var o=u.A.getElement("img",e);o&&(0,v.Z)(o),a.recalculate(!0,!0),u.A.showOpacity(t.firstChild)};for(var c of i.children)l(c)})),(0,o.A)(this,"createMasonryLayout",((t,e,n,o)=>{var r=n.reduce(((t,e)=>{var{count:n,device:o}=e,[,r]=s.IY[o];return r?A(A({},t),{},{[r]:Math.ceil(n)}):t}),{});return new(i())({container:t,trueOrder:!0,columns:e,breakAt:r,margin:{x:o,y:o}})})),(0,o.A)(this,"initGrid",(t=>{var e=t.children[0],n=t=>{var e=u.A.getElement("img",t);e&&(0,v.Z)(e)},o=function(){var t=u.A.getElement("picture",r);if(!t)return 0;var{loaded:e}=t.dataset||{};e?n(t):t.addEventListener(m.g,(()=>{n(t)}));var o=u.A.getElement("img",t);if(!o)return 0;(0,v.Z)(o)};for(var r of e.children)o()}))}}const w=E},2932:(t,e,n)=>{"use strict";n.d(e,{A:()=>h});var o=n(4705),r=n(534),i=n(8229),a=n(1675),s=n(5044),l=n(708);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,o.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const h=class{constructor(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.A)(this,"createTemplateLightBox",(()=>{var t=i.A.createElement("div");i.A.addHtml(t,(0,l.wH)(this.selectors)),i.A.addClass(t,"lightBox-modal"),i.A.document.body.appendChild(t)})),(0,o.A)(this,"handleCloseOnOutsideClick",(()=>{var{modalContainer:t,arrayNavElements:e,navButtonsContainers:n,modalsParams:o}=this.getLightBoxAttributes();i.A.on(i.A.getElement("#".concat(this.selectors.modalContainerId)),"click",this.handleClickToCloseModal(t,e,n,o))})),(0,o.A)(this,"handleKeyDown",(t=>{var{modalContainer:e}=this.getLightBoxAttributes(),{keyCode:n}=t;switch(n){case r.Kj:this.hideLightBox(e);break;case r.MR:this.navFunc.prev();break;case r.P:this.navFunc.next()}})),(0,o.A)(this,"getLightBoxElements",(function(){var{modalContainerId:t,lightBoxImgId:e,nextBottomId:n,prevBottomId:o,navBotContPrevId:r,navBotContNextId:a,svgBottomPrevId:s,svgBottomNextId:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.hd;return{elModalContainer:i.A.getElement("#".concat(t)),elLightBoxImg:i.A.getElement("#".concat(e)),elNextBottom:i.A.getElement("#".concat(n)),elPrevBottom:i.A.getElement("#".concat(o)),elNavBotContPrev:i.A.getElement("#".concat(r)),elNavBotContNext:i.A.getElement("#".concat(a)),elSvgBottomPrev:i.A.getElement("#".concat(s)),elSvgBottomNext:i.A.getElement("#".concat(c))}})),(0,o.A)(this,"addLightBoxToGalleryPhotos",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{modalContainer:r,lightBoxImg:s,addCursorPointerToElement:c,handleImageClick:d}=o,{viewNavButtons:h,navButtonsHandleClick:u,navButtonsContainers:{navBotContPrev:g,navBotContNext:v}}=n;Object.keys(e).forEach((e=>{var n=e.includes("-".concat(a.JI,"-")),[o,m]=e.split("-".concat(a.JI,"-")),p=n?(0,a.nQ)(o,m):(0,a.FJ)(e),y=t.galleryModalData[e],f=i.A.getElement(p),A=[...i.A.getCollection(".".concat(l.hd.lightboxItem),f)].map((t=>t.id)),E=h(y,A),w=u(y,A,s,r);A.forEach(((e,n)=>{var o=i.A.getElement('[id="'.concat(e,'"]'),f),a=y[e];o&&("A"!==o.tagName&&i.A.on(o,"click",(e=>{var o=n;E(o),d(a,r,s,e);var l=()=>{var t=o+1;E(t),y[A[t]]&&(o=t),w(o)},c=()=>{var t=o-1;E(t),y[A[t]]&&(o=t),w(o)};v.removeEventListener("click",t.navFunc.next),g.removeEventListener("click",t.navFunc.prev),i.A.on(v,"click",l),i.A.on(g,"click",c),t.navFunc={next:l,prev:c}})),c(o))}))}))})),(0,o.A)(this,"addLightBoxToPhotos",((t,e)=>{var{modalContainer:n,lightBoxImg:o,addCursorPointerToElement:r,handleImageClick:a}=e;Object.keys(t).forEach((e=>{var s=i.A.getElement('[id="'.concat(e,'"]')),l=t[e];s&&l&&(s.closest(".slick-cloned")&&(s=i.A.getElement('.glide__slide:not(.slick-cloned) [id="'.concat(e,'"]'))),i.A.on(s,"click",(t=>a(l,n,o,t))),r(s))}))})),(0,o.A)(this,"setNavButtonsVisibility",((t,e)=>n=>{i.A.window.requestAnimationFrame((()=>{var o=t[e[n+1]]?l.Z6.show:l.Z6.hide,r=t[e[n-1]]?l.Z6.show:l.Z6.hide;setTimeout((()=>{i.A.updateStyle("#".concat(this.selectors.navBotContNextId),o),i.A.updateStyle("#".concat(this.selectors.navBotContPrevId),r)}),0)}))})),(0,o.A)(this,"disableScroll",(()=>i.A.addClass(i.A.document.body,l.Zn))),(0,o.A)(this,"enableScroll",(()=>i.A.removeClass(i.A.document.body,l.Zn))),(0,o.A)(this,"hideLightBox",((t,e,n,o)=>{i.A.window.requestAnimationFrame((()=>{i.A.fadeOut(t,l.yz,(()=>{i.A.updateStyle(e,{display:"none"}),i.A.updateStyle(n,{display:"none"}),i.A.removeClass(t,"_white"),i.A.removeClass(t,"_dark"),this.enableScroll(),null!=o&&o.src||this.resetLightBoxImageSrc()}))})),i.A.off(i.A.document,"keydown",this.handleKeyDown)})),(0,o.A)(this,"handleClickToCloseModal",((t,e,n,o)=>r=>{if(!e.includes(r.target)&&!i.A.hasClass(t,"_fade-out")){var{navBotContPrev:a,navBotContNext:s}=n,{lightBoxImg:l}=o||{};this.hideLightBox(t,a,s,l)}})),(0,o.A)(this,"resetLightBoxImageSrc",(()=>{var t=i.A.getElement("#".concat(this.selectors.lightBoxImgId));t instanceof HTMLElement&&t.removeAttribute("src")})),(0,o.A)(this,"navButtonsHandleClick",((t,e,n,o)=>r=>{var{lightbox_theme:a="",src:s=""}=t[e[r]];this.resetLightBoxImageSrc(),i.A.addClass(o,a),n.setAttribute("src",s)})),(0,o.A)(this,"handleImageClick",((t,e,n,o)=>{var{lightbox_theme:r="",src:a}=t;(0,s.Kt)(o)||(n.setAttribute("src",a),i.A.addClass(e,r),i.A.fadeIn(e),this.disableScroll(),i.A.on(i.A.document,"keydown",this.handleKeyDown))})),(0,o.A)(this,"addCursorPointerStyle",(t=>{var e=t.getAttribute("style")||"";t.setAttribute("style","cursor:pointer;".concat(e))})),this.photoModalData={},this.galleryModalData={},this.navFunc={prev:()=>null,next:()=>null},this.selectors=d(d({},l.hd),e),this.createTemplateLightBox(),this.handleCloseOnOutsideClick()}getLightBoxAttributes(){var{elModalContainer:t,elLightBoxImg:e,elNextBottom:n,elPrevBottom:o,elNavBotContPrev:r,elNavBotContNext:i,elSvgBottomPrev:a,elSvgBottomNext:s,arrayNavElements:l=[n,o,r,i,a,s,e]}=this.getLightBoxElements(this.selectors),c={modalContainer:t,lightBoxImg:e,addCursorPointerToElement:this.addCursorPointerStyle,handleImageClick:this.handleImageClick},d={navBotContPrev:r,navBotContNext:i};return{navButtonsAttributes:{viewNavButtons:this.setNavButtonsVisibility,navButtonsHandleClick:this.navButtonsHandleClick,navButtonsContainers:d},modalsParams:c,modalContainer:t,arrayNavElements:l,navButtonsContainers:d}}connectAllWidgetToLightBox(){var{navButtonsAttributes:t,modalsParams:e}=this.getLightBoxAttributes();this.addLightBoxToPhotos(this.photoModalData,e),this.addLightBoxToGalleryPhotos(this.galleryModalData,t,e)}}},708:(t,e,n)=>{"use strict";n.d(e,{Z6:()=>i,Zn:()=>a,hd:()=>o,wH:()=>r,yz:()=>s});var o={modalContainerId:"bp_container",lightBoxImgId:"lightbox__img",nextBottomId:"lightbox__arrow_right",prevBottomId:"lightbox__arrow_left",navBotContPrevId:"lightbox__arrow_left_container",navBotContNextId:"lightbox__arrow_right_container",svgBottomPrevId:"lightbox__arrow_left_svg",svgBottomNextId:"lightbox__arrow_right_svg",lightboxItem:"lightbox-item"},r=function(){var{modalContainerId:t,lightBoxImgId:e,navBotContPrevId:n,svgBottomPrevId:r,prevBottomId:i,navBotContNextId:a,svgBottomNextId:s,nextBottomId:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return'\n        <div data-reactroot="" id="'.concat(t,'" class="lightbox">\n        <div class="lightbox__wrap">\n          <div class="lightbox__picture">\n            <img class="lightbox__img lazy" id="').concat(e,'" alt="" style="visibility: visible">\n          </div>\n        </div>\n        <div>\n          <i class="lightbox__close icon" id="lightbox__close">\n            <svg height="100%" width="100%">\n              <use xlink:href="#sp-cross-20"></use>\n            </svg>\n          </i>\n          <i class="lightbox__arrow _left icon" id="').concat(n,'" style="display: none">\n            <svg height="100%" width="100%" id="').concat(r,'">\n              <use xlink:href="#sp-arrow-next" id="').concat(i,'"></use>\n            </svg>\n          </i>\n          <i class="lightbox__arrow _right icon" id="').concat(a,'" style="display: none">\n            <svg height="100%" width="100%" id="').concat(s,'">\n              <use xlink:href="#sp-arrow-next" id="').concat(l,'"></use>\n            </svg>\n          </i>\n        </div>\n      </div>\n      ')},i={show:{display:"block"},hide:{display:"none"}},a="hide-scroll",s=300},9341:(t,e,n)=>{"use strict";n.d(e,{A:()=>o.A});var o=n(2932)},5044:(t,e,n)=>{"use strict";n.d(e,{Qs:()=>r,Kt:()=>a,hy:()=>s,w7:()=>c});var o=n(8229);const r=()=>{var[t]=o.A.document.getElementsByTagName("SCRIPT"),e=o.A.document.createElement("SCRIPT");e.type="text/javascript",e.async=!0,e.src="//assets.pinterest.com/js/pinit.js",t.parentNode.insertBefore(e,t)};var i=n(534);const a=t=>!!t&&t.target.closest(i.IK),s=t=>"".concat("https://www.pinterest.com/pin/create/button/","?url=").concat(o.A.window.location.href,"&guid=").concat("Dz6gFxmej__M","&media=").concat(t,"&description=").concat("Alt image title");var l=n(4478);const c=t=>l.Ay.isRetina()&&t?"".concat(t,"_retina"):""},6716:function(t){t.exports=function(){"use strict";function t(t,e){var n=void 0;return function(){n&&clearTimeout(n),n=setTimeout(t,e)}}function e(t,e){for(var n=t.length,o=n,r=[];n--;)r.push(e(t[o-n-1]));return r}function n(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(window.Promise)return w(t,e,n);t.recalculate(!0,!0)}function o(t){for(var e=t.options,n=t.responsiveOptions,o=t.keys,r=t.docWidth,i=void 0,a=0;a<o.length;a++){var s=parseInt(o[a],10);r>=s&&(i=e.breakAt[s],O(i,n))}return n}function r(t){for(var e=t.options,n=t.responsiveOptions,o=t.keys,r=t.docWidth,i=void 0,a=o.length-1;a>=0;a--){var s=parseInt(o[a],10);r<=s&&(i=e.breakAt[s],O(i,n))}return n}function i(t){var e=t.useContainerForBreakpoints?t.container.clientWidth:window.innerWidth,n={columns:t.columns};C(t.margin)?n.margin={x:t.margin.x,y:t.margin.y}:n.margin={x:t.margin,y:t.margin};var i=Object.keys(t.breakAt);return t.mobileFirst?o({options:t,responsiveOptions:n,keys:i,docWidth:e}):r({options:t,responsiveOptions:n,keys:i,docWidth:e})}function a(t){return i(t).columns}function s(t){return i(t).margin}function l(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=a(t),o=s(t).x,r=100/n;if(!e)return r;if(1===n)return"100%";var i="px";if("string"==typeof o){var l=parseFloat(o);i=o.replace(l,""),o=l}return o=(n-1)*o/n,"%"===i?r-o+"%":"calc("+r+"% - "+o+i+")"}function c(t,e){var n=a(t.options),o=0,r=void 0,i=void 0;if(1==++e)return 0;var c="px";if("string"==typeof(i=s(t.options).x)){var d=parseFloat(i,10);c=i.replace(d,""),i=d}return r=(i-(n-1)*i/n)*(e-1),o+=l(t.options,!1)*(e-1),"%"===c?o+r+"%":"calc("+o+"% + "+r+c+")"}function d(t){var e=0,n=t.container,o=t.rows;v(o,(function(t){e=t>e?t:e})),n.style.height=e+"px"}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=a(t.options),i=s(t.options).y;N(t,r,n),v(e,(function(e){var n=0,r=parseInt(e.offsetHeight,10);isNaN(r)||(t.rows.forEach((function(e,o){e<t.rows[n]&&(n=o)})),e.style.position="absolute",e.style.top=t.rows[n]+"px",e.style.left=""+t.cols[n],t.rows[n]+=isNaN(r)?0:r+i,o&&(e.dataset.macyComplete=1))})),o&&(t.tmpRows=null),d(t)}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=a(t.options),i=s(t.options).y;N(t,r,n),v(e,(function(e){t.lastcol===r&&(t.lastcol=0);var n=L(e,"height");n=parseInt(e.offsetHeight,10),isNaN(n)||(e.style.position="absolute",e.style.top=t.rows[t.lastcol]+"px",e.style.left=""+t.cols[t.lastcol],t.rows[t.lastcol]+=isNaN(n)?0:n+i,t.lastcol+=1,o&&(e.dataset.macyComplete=1))})),o&&(t.tmpRows=null),d(t)}var g=function t(e,n){if(!(this instanceof t))return new t(e,n);if(e&&e.nodeName)return e;if(e=e.replace(/^\s*/,"").replace(/\s*$/,""),n)return this.byCss(e,n);for(var o in this.selectors)if(n=o.split("/"),new RegExp(n[1],n[2]).test(e))return this.selectors[o](e);return this.byCss(e)};g.prototype.byCss=function(t,e){return(e||document).querySelectorAll(t)},g.prototype.selectors={},g.prototype.selectors[/^\.[\w\-]+$/]=function(t){return document.getElementsByClassName(t.substring(1))},g.prototype.selectors[/^\w+$/]=function(t){return document.getElementsByTagName(t)},g.prototype.selectors[/^\#[\w\-]+$/]=function(t){return document.getElementById(t.substring(1))};var v=function(t,e){for(var n=t.length,o=n;n--;)e(t[o-n-1])},m=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.running=!1,this.events=[],this.add(t)};m.prototype.run=function(){if(!this.running&&this.events.length>0){var t=this.events.shift();this.running=!0,t(),this.running=!1,this.run()}},m.prototype.add=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!e&&(Array.isArray(e)?v(e,(function(e){return t.add(e)})):(this.events.push(e),void this.run()))},m.prototype.clear=function(){this.events=[]};var p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.instance=t,this.data=e,this},y=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.events={},this.instance=t};y.prototype.on=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!t||!e)&&(Array.isArray(this.events[t])||(this.events[t]=[]),this.events[t].push(e))},y.prototype.emit=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!Array.isArray(this.events[t]))return!1;var n=new p(this.instance,e);v(this.events[t],(function(t){return t(n)}))};var f=function(t){return!("naturalHeight"in t&&t.naturalHeight+t.naturalWidth===0)||t.width+t.height!==0},A=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(t,n){if(e.complete)return f(e)?t(e):n(e);e.addEventListener("load",(function(){return f(e)?t(e):n(e)})),e.addEventListener("error",(function(){return n(e)}))})).then((function(e){n&&t.emit(t.constants.EVENT_IMAGE_LOAD,{img:e})})).catch((function(e){return t.emit(t.constants.EVENT_IMAGE_ERROR,{img:e})}))},E=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(n,(function(e){return A(t,e,o)}))},w=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Promise.all(E(t,e,n)).then((function(){t.emit(t.constants.EVENT_IMAGE_COMPLETE)}))},x=function(e){return t((function(){e.emit(e.constants.EVENT_RESIZE),e.queue.add((function(){return e.recalculate(!0,!0)}))}),100)},b=function(t){if(t.container=g(t.options.container),t.container instanceof g||!t.container)return!!t.options.debug&&console.error("Error: Container not found");t.container.length&&(t.container=t.container[0]),t.options.container=t.container,t.container.style.position="relative"},I=function(t){t.queue=new m,t.events=new y(t),t.rows=[],t.resizer=x(t)},B=function(t){var e=g("img",t.container);window.addEventListener("resize",t.resizer),t.on(t.constants.EVENT_IMAGE_LOAD,(function(){return t.recalculate(!1,!1)})),t.on(t.constants.EVENT_IMAGE_COMPLETE,(function(){return t.recalculate(!0,!0)})),t.options.useOwnImageLoader||n(t,e,!t.options.waitForImages),t.emit(t.constants.EVENT_INITIALIZED)},_=function(t){b(t),I(t),B(t)},C=function(t){return t===Object(t)&&"[object Array]"!==Object.prototype.toString.call(t)},O=function(t,e){C(t)||(e.columns=t),C(t)&&t.columns&&(e.columns=t.columns),C(t)&&t.margin&&!C(t.margin)&&(e.margin={x:t.margin,y:t.margin}),C(t)&&t.margin&&C(t.margin)&&t.margin.x&&(e.margin.x=t.margin.x),C(t)&&t.margin&&C(t.margin)&&t.margin.y&&(e.margin.y=t.margin.y)},L=function(t,e){return window.getComputedStyle(t,null).getPropertyValue(e)},N=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.lastcol||(t.lastcol=0),t.rows.length<1&&(n=!0),n){t.rows=[],t.cols=[],t.lastcol=0;for(var o=e-1;o>=0;o--)t.rows[o]=0,t.cols[o]=c(t,o)}else if(t.tmpRows)for(t.rows=[],o=e-1;o>=0;o--)t.rows[o]=t.tmpRows[o];else for(t.tmpRows=[],o=e-1;o>=0;o--)t.tmpRows[o]=t.rows[o]},P=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e?t.container.children:g(':scope > *:not([data-macy-complete="1"])',t.container);o=Array.from(o).filter((function(t){return null!==t.offsetParent}));var r=l(t.options);return v(o,(function(t){e&&(t.dataset.macyComplete=0),t.style.width=r})),t.options.trueOrder?(u(t,o,e,n),t.emit(t.constants.EVENT_RECALCULATED)):(h(t,o,e,n),t.emit(t.constants.EVENT_RECALCULATED))},T=function(){return!!window.Promise},k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};Array.from||(Array.from=function(t){for(var e=0,n=[];e<t.length;)n.push(t[e++]);return n});var M={columns:4,margin:2,trueOrder:!1,waitForImages:!1,useImageLoader:!0,breakAt:{},useOwnImageLoader:!1,onInit:!1,cancelLegacy:!1,useContainerForBreakpoints:!1};!function(){try{document.createElement("a").querySelector(":scope *")}catch(t){!function(){function t(t){return function(n){if(n&&e.test(n)){var o=this.getAttribute("id");o||(this.id="q"+Math.floor(9e6*Math.random())+1e6),arguments[0]=n.replace(e,"#"+this.id);var r=t.apply(this,arguments);return null===o?this.removeAttribute("id"):o||(this.id=o),r}return t.apply(this,arguments)}}var e=/:scope\b/gi,n=t(Element.prototype.querySelector);Element.prototype.querySelector=function(t){return n.apply(this,arguments)};var o=t(Element.prototype.querySelectorAll);Element.prototype.querySelectorAll=function(t){return o.apply(this,arguments)}}()}}();var S=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;if(!(this instanceof t))return new t(e);this.options={},k(this.options,M,e),this.options.cancelLegacy&&!T()||_(this)};return S.init=function(t){return console.warn("Depreciated: Macy.init will be removed in v3.0.0 opt to use Macy directly like so Macy({ /*options here*/ }) "),new S(t)},S.prototype.recalculateOnImageLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n(this,g("img",this.container),!t)},S.prototype.runOnImageLoad=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=g("img",this.container);return this.on(this.constants.EVENT_IMAGE_COMPLETE,t),e&&this.on(this.constants.EVENT_IMAGE_LOAD,t),n(this,o,e)},S.prototype.recalculate=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n&&this.queue.clear(),this.queue.add((function(){return P(t,e,n)}))},S.prototype.remove=function(){window.removeEventListener("resize",this.resizer),v(this.container.children,(function(t){t.removeAttribute("data-macy-complete"),t.removeAttribute("style")})),this.container.removeAttribute("style")},S.prototype.reInit=function(){this.recalculate(!0,!0),this.emit(this.constants.EVENT_INITIALIZED),window.addEventListener("resize",this.resizer),this.container.style.position="relative"},S.prototype.on=function(t,e){this.events.on(t,e)},S.prototype.emit=function(t,e){this.events.emit(t,e)},S.constants={EVENT_INITIALIZED:"macy.initialized",EVENT_RECALCULATED:"macy.recalculated",EVENT_IMAGE_LOAD:"macy.image.load",EVENT_IMAGE_ERROR:"macy.image.error",EVENT_IMAGE_COMPLETE:"macy.images.complete",EVENT_RESIZE:"macy.resize"},S.prototype.constants=S.constants,S}()}}]);