"use strict";(globalThis.webpackChunkpage_render_service=globalThis.webpackChunkpage_render_service||[]).push([[1181],{1181:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var i=s(4705),a=s(4612),n=s(8229),o=s(2367),r=s(3002),l=s(4478),h=s(7032),c=[r.W.PHONE,r.W.TABLET,r.W.LAPTOP,r.W.DESKTOP,r.W.QUAD];const d=class{constructor(e){(0,i.A)(this,"init",(()=>{if(this.embedBlock){var e=n.A.getElement("iframe",this.embedBlock);try{var{settings:t}=(null==e?void 0:e.dataset)||{};if(!t)return;var s=(0,h.A)("settings.grid"),{type:i}=JSON.parse(t);if(s?e.style.height="100%":"link"===i&&(e.style.height="".concat((e.clientHeight||400)*(0,r.m8)((0,l.ZI)(),c),"px")),!e)return;n.A.on(e,"load",this.onIframeLoaded)}catch(e){console.error(e)}}})),(0,i.A)(this,"onIframeLoaded",(()=>{n.A.removeClass(this.embedBlock,"show_spinner")})),this.embedBlock=e}};class m extends o.A{constructor(){super(...arguments),(0,i.A)(this,"init",(()=>{this.elEmbedCollection=n.A.getCollection(this.selector),(0,a.A)(this.elEmbedCollection)||(this.elEmbedCollection.forEach((e=>{new d(e).init()})),n.A.on(n.A.window,"message",this.updateIframeHeight))})),(0,i.A)(this,"updateIframeHeight",(e=>{var{type:t,height:s,name:i}=e.data,a=n.A.getElement('iframe[name="'.concat(i,'"]'));if(a&&"iframeResize"===t){var o=a.parentNode,{settings:r}=(null==a?void 0:a.dataset)||{},{isAutoHeight:l}=JSON.parse(r);l&&(n.A.removeClass(o,"show_spinner"),a.style.height="".concat(s,"px"))}}))}}const g=m}}]);