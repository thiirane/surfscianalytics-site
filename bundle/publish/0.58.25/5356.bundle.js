(globalThis.webpackChunkpage_render_service=globalThis.webpackChunkpage_render_service||[]).push([[5356],{4633:(t,e,s)=>{"use strict";s.d(e,{A:()=>n});const n=t=>void 0===t},9814:(t,e,s)=>{"use strict";s.d(e,{A:()=>i});var n=s(765),o=s(5155);const i=t=>(0,n.A)(o.TO,[t,"getShareUrl"],(()=>null))},5112:(t,e,s)=>{"use strict";s.d(e,{A:()=>i});var n=s(4633),o=s(8229);const i=(t,e,s,i)=>{var l=(0,n.A)(o.A.window.screenLeft)?o.A.window.screen.left:o.A.window.screenLeft,a=(0,n.A)(o.A.window.screenTop)?o.A.window.screen.top:o.A.window.screenTop,r=(o.A.window.innerWidth?o.A.window.innerWidth:o.A.document.documentElement.clientWidth?o.A.document.documentElement.clientWidth:o.A.window.screen.width)/2-s/2+l,h=(o.A.window.innerHeight?o.A.window.innerHeight:o.A.document.documentElement.clientHeight?o.A.document.documentElement.clientHeight:o.A.window.screen.height)/2-i/2+a,c=o.A.window.open(t,e,"scrollbars=yes, width=".concat(s,", height=").concat(i,", top=").concat(h,", left=").concat(r));o.A.window.focus&&c&&c.focus()}},5356:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>W});var n=s(4705),o=s(4612),i=s(3333),l=s(8229),a=s(2367),r=s(7965),h=s.n(r),c=s(4478),d=s(9814),u=s(5112),p=s(4067),A=".share__row",g="_collapsed",m="_collapsed-all",f=1.88/1.364;const w=(t,e)=>l.A.getElementWidth(e)>=t;const v=function t(e,s,n){var o=e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,l=Math.ceil(o.length/i),a=o.slice(o.length-l),r=C(a);if(w(r,n)){s.push(l);var h=o.length-l,c=new Array(i-1);if(h<l)return void s.push(h);c.fill(0).forEach((()=>{i-=1;var t=Math.ceil(h/i);s.unshift(t),h-=t}))}else t(e,s,n,i+1)},C=t=>t.reduce(((t,e)=>t+e),0);class b extends a.A{constructor(){var t;super(...arguments),t=this,(0,n.A)(this,"init",(()=>{this.buttonsFullWidth=[],this.buttonsCollapsedWidth=[],this.sumButtonsWidth=0,this.sumButtonsCollapsedWidth=0,this.elButtons=l.A.getCollection(".share__btn",this.selector),this.buttonsLength=(0,o.A)(this.elButtons)?0:this.elButtons.length,this.elShareRow=l.A.getElement(A,this.selector),this.isCollapsedRight=l.A.hasClass(this.selector,"_right"),this.isCollapsedCenter=l.A.hasClass(this.selector,"_center"),this.updateButtonsWidth(),w(this.sumButtonsCollapsedWidth,this.selector)||(this.collapse(this.elButtons.length),this.updateButtonsWidth()),this.elButtons.forEach((t=>l.A.on(t,"click",this.handleButtonClick(l.A.getElement("a",t))))),this.isCollapsedCenter&&l.A.addClass(this.elShareRow,m),(0,p.p3)(this.selector,(()=>this.updateButtonsWidth()))})),(0,n.A)(this,"updateButtonsWidth",(()=>{c.Ay.isIe()&&l.A.updateStyle(this.elShareRow,{display:"block"});for(var t=[],e=[],s=0;s<this.buttonsLength;s+=1){var n=this.elButtons[s],o=l.A.getElement(".share__text",n),i=l.A.getElement(".share__edit",n),a=l.A.getElement(".icon",n),r=l.A.getElement(".share__box",n),h=l.A.getElementWidth(n),d=l.A.getElementWidth(a),u=d<24?24:d,p=l.A.getElementWidth(i),A=l.A.getElementWidth(o),m=l.A.getElementWidth(r),w=l.A.hasClass(n,g)?h-u+u*f+p:h-A+u*f+p,v=h-m+u;v<u&&(v=h,w=h-u+u*f+p),t.push(w),e.push(v)}this.buttonsFullWidth=t,this.buttonsCollapsedWidth=e,this.sumButtonsWidth=C(t),this.sumButtonsCollapsedWidth=C(e),c.Ay.isIe()&&this.elShareRow.style.removeProperty("display")})),(0,n.A)(this,"resize",(()=>{if(!((0,o.A)(this.elButtons)||(0,o.A)(this.buttonsFullWidth)||(0,o.A)(this.buttonsCollapsedWidth)||this.checkIsSplitted())){var t=l.A.getElementWidth(this.selector),e=0,{sumButtonsWidth:s}=this;if(s<=t)this.unCollapseAll();else if(this.isCollapsedCenter)this.collapse(this.buttonsLength);else{do{var n=this.isCollapsedRight?this.buttonsLength-e-1:e;s=s-this.buttonsFullWidth[n]+this.buttonsCollapsedWidth[n],e+=1}while(s>t&&e<=this.buttonsLength);e>this.buttonsLength&&(e=this.buttonsLength),this.collapse(e)}}})),(0,n.A)(this,"collapse",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!(0,o.A)(t.elButtons)){for(var s=0;s<=t.buttonsLength;s+=1){var n=t.isCollapsedRight?s:t.buttonsLength-s-1,i=t.elButtons[n];e>=t.buttonsLength-s?l.A.addClass(i,g):l.A.removeClass(i,g)}var a=l.A.getElement(A,t.selector);e===t.buttonsLength?l.A.addClass(a,m):t.isCollapsedCenter||l.A.removeClass(a,m)}})),(0,n.A)(this,"checkIsSplitted",(()=>l.A.getCollection(A,this.selector).length>1)),(0,n.A)(this,"split",(()=>{if(!(0,o.A)(this.elButtons)&&!(0,o.A)(this.buttonsCollapsedWidth))if(w(this.sumButtonsCollapsedWidth,this.selector))this.unsplit();else{var t=0,e=0,s=[];w(this.sumButtonsCollapsedWidth,this.selector)&&this.checkIsSplitted()?s=[this.elButtons.length]:v(this.buttonsCollapsedWidth,s,this.selector),s.sort();var n=s.reduce(((s,n)=>{var o=Array.from(this.elButtons);return s[t]=o.slice(e,e+n),t+=1,e+=n,s}),[]);0!==n.length&&this.changeRowElToSplitted(n)}})),(0,n.A)(this,"unsplit",(()=>{this.checkIsSplitted()&&(this.changeRowElToUnsplitted(),this.resize())})),(0,n.A)(this,"changeRowElToUnsplitted",(()=>{var t=l.A.createElement("nav");l.A.addClass(t,"share__row");for(var e=0;e<=this.elButtons.length-1;e+=1)t.append(this.elButtons[e]);this.clearStructure(),this.selector.append(t)})),(0,n.A)(this,"changeRowElToSplitted",(t=>{if(!(0,o.A)(t)){this.clearStructure();for(var e=0;e<=t.length-1;e+=1){var s=l.A.createElement("nav");l.A.addClass(s,"share__row"),l.A.addClass(s,m);for(var n=0;n<=t[e].length-1;n+=1)l.A.addClass(t[e][n],g),s.append(t[e][n]);this.selector.append(s)}}})),(0,n.A)(this,"clearStructure",(()=>{var t=l.A.getCollection(A,this.selector);t&&0!==t.length&&Array.from(t).forEach((t=>{l.A.removeElement(t)}))})),(0,n.A)(this,"unCollapseAll",(()=>{if(!(0,o.A)(this.elButtons))for(var t=0;t<this.buttonsLength;t+=1){var e=this.elButtons[t];l.A.removeClass(e,g)}})),(0,n.A)(this,"handleButtonClick",(t=>e=>{var{widgetInWindow:s=!0,widgetLinkType:n,widgetShareMode:o}=t.dataset;if("copylink"===n)return e.preventDefault(),void h()(l.A.window.location.href);var i=(0,d.A)(n)({href:"page"===o?l.A.window.location.href:l.A.window.location.origin});if(i&&"email"===n)return t.setAttribute("target","_blank"),t.setAttribute("rel","noopener noreferrer"),void t.setAttribute("href",i);t.setAttribute("href","#"),i&&s&&"false"!==s&&(e.preventDefault(),(0,u.A)(i,"",500,500))}))}}const y=b;class E extends a.A{constructor(){super(...arguments),(0,n.A)(this,"init",(()=>{var t=l.A.getCollection(this.selector);(0,o.A)(t)||t.forEach((t=>{var e=new y(t);e.init(),setTimeout((()=>{e.resize(),e.split()})),(0,i.sR)(t,e.resize),(0,i.sR)(e,e.split)}))}))}}const W=E},7965:(t,e,s)=>{"use strict";var n=s(6426),o={"text/plain":"Text","text/html":"Url",default:"Text"};t.exports=function(t,e){var s,i,l,a,r,h,c=!1;e||(e={}),s=e.debug||!1;try{if(l=n(),a=document.createRange(),r=document.getSelection(),(h=document.createElement("span")).textContent=t,h.ariaHidden="true",h.style.all="unset",h.style.position="fixed",h.style.top=0,h.style.clip="rect(0, 0, 0, 0)",h.style.whiteSpace="pre",h.style.webkitUserSelect="text",h.style.MozUserSelect="text",h.style.msUserSelect="text",h.style.userSelect="text",h.addEventListener("copy",(function(n){if(n.stopPropagation(),e.format)if(n.preventDefault(),void 0===n.clipboardData){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=o[e.format]||o.default;window.clipboardData.setData(i,t)}else n.clipboardData.clearData(),n.clipboardData.setData(e.format,t);e.onCopy&&(n.preventDefault(),e.onCopy(n.clipboardData))})),document.body.appendChild(h),a.selectNodeContents(h),r.addRange(a),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(n){s&&console.error("unable to copy using execCommand: ",n),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),c=!0}catch(n){s&&console.error("unable to copy using clipboardData: ",n),s&&console.error("falling back to prompt"),i=function(t){var e=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}("message"in e?e.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,t)}}finally{r&&("function"==typeof r.removeRange?r.removeRange(a):r.removeAllRanges()),h&&document.body.removeChild(h),l()}return c}},6426:t=>{t.exports=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,s=[],n=0;n<t.rangeCount;n++)s.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||s.forEach((function(e){t.addRange(e)})),e&&e.focus()}}}}]);